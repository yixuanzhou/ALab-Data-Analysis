<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <script src="../static/vendor/jquery/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>

  <title>Q</title>

  <!-- css -->
  <link rel="stylesheet" href="../static/css/bootstrap.min.css">
  <link href="../static/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href="../static/css/nivo-lightbox.css" rel="stylesheet" />
  <link href="../static/css/nivo-lightbox-theme/default/default.css" rel="stylesheet" type="text/css" />
  <link href="../static/css/animations.css" rel="stylesheet" />
  <link href="../static/css/style.css" rel="stylesheet">
  <link href="../static/color/default.css" rel="stylesheet">

  <script type="text/javascript"></script>
  <!-- =======================================================
    Theme Name: Bocor
    Theme URL: https://bootstrapmade.com/bocor-bootstrap-template-nice-animation/
    Author: BootstrapMade
    Author URL: https://bootstrapmade.com
  ======================================================= -->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">

  <!-- Section: services -->
  <section id="service" class="home-section color-dark bg-gray">

    <div class="text-center">
      <div class="container">

        <div class="row animatedParent">
          <div class="col-md-4">            
            <div class="service-box">
              <div class="service-icon">
                <span class="fa fa-laptop fa-2x"></span>
              </div>
              <div class="service-desc">
                <h5>Upload Image</h5>
                <div class="divider-header"></div>
                  <div>
                  <p>{{filepath}}</p>
                  <form action="upload" method="post" enctype="multipart/form-data" style="margin: 0 auto">
                    <div>
                    <a href="#upload" button type="submit" class="btn">
                      <span class="btn btn-default btn-file">
                      <input type="file" name="file" id="fileinput" class="btn btn-success btn-lg btn-file text-center">
                      </span>
                      <br/>
                    </a>
                  </div>
                  <button type="submit" class="btn btn-skin" value="Upload"> Upload </button>
                  </form>


                <button class="btn btn-skin btn-outline" id="run" >Calculate</button>
                <script>
                   var temp =  $('#fileinput')[0].baseURI.split('/')
                   var filename = temp[temp.length-1];
                   $('#run').click(function(){
                   $.ajax({
                        type: 'get',
                        url: 'calculateQ.py',
                        cache: false,
                        data: {'filename': filename},
                        async: asynchronous,
                        dataType: json, //if you want json
                        success: function(data) {
                          alert("haha")
                        },
                        error: function(request, status, error) {
                          alert("Error!")
                        }
                     });
                  });
                </script>     
              </div>              
            </div>
          </div>

  <!-- Core JavaScript Files -->
  <script src="../static/js/jquery.min.js"></script>
  <script src="../static/js/bootstrap.min.js"></script>
  <script src="../static/js/jquery.sticky.js"></script>
  <script src="../static/js/jquery.easing.min.js"></script>
  <script src="../static/js/jquery.scrollTo.js"></script>
  <script src="../static/js/jquery.appear.js"></script>
  <script src="../static/js/stellar.js"></script>
  <script src="../static/js/nivo-lightbox.min.js"></script>

  <script src="../static/js/custom.js"></script>
  <script src="../static/js/css3-animate-it.js"></script>

</body>
</html>
